# C23 Feature Support

C23 (ISO/IEC 9899:2024) introduces significant new features.

## Implemented

- `_Static_assert` without message (C23 made the message optional)
  ```c
  _Static_assert(sizeof(int) == 4);  // message is optional
  ```

- Empty initializer `{}`
  ```c
  struct Point p = {};  // Zero-initialize
  int arr[10] = {};     // All zeros
  ```

- Binary literals
  ```c
  int x = 0b10101010;
  ```

- Digit separators
  ```c
  int x = 1'000'000;
  long y = 0xFF'FF'FF'FF;
  ```

- `typeof` and `typeof_unqual`
  ```c
  typeof(x) y = x;
  typeof_unqual(x) z = x;
  ```

- `[[noreturn]]` attribute
  ```c
  [[noreturn]] void die(void);
  ```

- `bool`, `true`, and `false` keywords (no `<stdbool.h>` required)
  ```c
  bool ok = true;
  ```

- `nullptr` keyword
  ```c
  int *p = nullptr;
  ```

- `#elifdef` and `#elifndef` directives
  ```c
  #ifdef FOO
    // ...
  #elifdef BAR
    // ...
  #elifndef BAZ
    // ...
  #endif
  ```

- `#warning` directive
  ```c
  #warning "This code is deprecated"
  ```

## Not Implemented

### Keywords

#### `constexpr` for objects
```c
constexpr int size = 100;
int arr[size];  // Valid, size is a constant expression
```
**Difficulty:** Medium - Track constexpr objects and evaluate at compile time.

#### `_BitInt(N)` - Bit-precise integers
```c
_BitInt(128) large_num;
unsigned _BitInt(256) huge_num;
```
**Difficulty:** High - Requires arbitrary-width integer support in codegen.

### Attributes

#### `[[nodiscard]]`
```c
[[nodiscard]] int compute(void);
```
**Difficulty:** Easy - Parse attribute, emit warning if return value unused.

#### `[[maybe_unused]]`
```c
[[maybe_unused]] int x;
```
**Difficulty:** Easy - Parse attribute, suppress unused warnings.

#### `[[deprecated]]`
```c
[[deprecated("use new_func")]] void old_func(void);
```
**Difficulty:** Easy - Parse attribute, emit warning on use.

#### `[[fallthrough]]`
```c
switch (x) {
    case 1: do_something();
            [[fallthrough]];
    case 2: do_more();
}
```
**Difficulty:** Easy - Parse attribute, suppress fallthrough warning.

### Syntax Changes

#### `#embed` directive
```c
const unsigned char icon[] = {
    #embed "icon.png"
};
```
**Difficulty:** Medium - Read binary file and emit byte literals.

#### Labels at end of compound statements
```c
void f(void) {
    // ...
end:
}  // Label before closing brace is valid
```
**Difficulty:** Easy - Relax parser restriction.

### Type Changes

#### `_Decimal32`, `_Decimal64`, `_Decimal128`
Decimal floating-point types.
**Difficulty:** High - Requires decimal float support in codegen.

#### Enhanced `enum` with fixed underlying type
```c
enum Color : unsigned char { RED, GREEN, BLUE };
```
**Difficulty:** Medium - Parse underlying type, enforce range.

### Other Features

#### Unnamed parameters in function definitions
```c
void f(int, int) { }  // Parameters don't need names
```
**Difficulty:** Easy - Relax parser requirement for parameter names.

#### `va_start` with single argument
```c
void f(int x, ...) {
    va_list ap;
    va_start(ap);  // No second argument needed
}
```
**Difficulty:** Easy - Update `<stdarg.h>` macro.

#### Removal of K&R function definitions
Old-style function definitions are removed.
**Difficulty:** N/A - Can emit warning/error for K&R style.

## Recommended Implementation Order

### Easy (1-2 hours each)
1. `[[maybe_unused]]` attribute
2. `[[nodiscard]]` attribute
3. `[[deprecated]]` attribute
4. `true`/`false` keywords
5. Labels before `}`

### Medium (half day each)
1. `#embed` directive
2. `constexpr` objects
3. `[[fallthrough]]` attribute
4. Enum with underlying type
5. Standard attribute syntax `[[...]]`

### Hard (multiple days)
1. `_BitInt(N)`
2. Decimal floating-point types
