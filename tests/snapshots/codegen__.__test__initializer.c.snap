---
source: tests/codegen.rs
expression: "&mine"
---
stdout: "({ int x[3]={1,2,3}; x[0]; }) => 1\n({ int x[3]={1,2,3}; x[1]; }) => 2\n({ int x[3]={1,2,3}; x[2]; }) => 3\n({ int x[3]={1,2,3}; x[2]; }) => 3\n({ int x[2][3]={{1,2,3},{4,5,6}}; x[0][1]; }) => 2\n({ int x[2][3]={{1,2,3},{4,5,6}}; x[1][0]; }) => 4\n({ int x[2][3]={{1,2,3},{4,5,6}}; x[1][2]; }) => 6\n({ int x[3]={}; x[0]; }) => 0\n({ int x[3]={}; x[1]; }) => 0\n({ int x[3]={}; x[2]; }) => 0\n({ int x[2][3]={{1,2}}; x[0][1]; }) => 2\n({ int x[2][3]={{1,2}}; x[1][0]; }) => 0\n({ int x[2][3]={{1,2}}; x[1][2]; }) => 0\n({ char x[4]=\"abc\"; x[0]; }) => 97\n({ char x[4]=\"abc\"; x[2]; }) => 99\n({ char x[4]=\"abc\"; x[3]; }) => 0\n({ char x[2][4]={\"abc\",\"def\"}; x[0][0]; }) => 97\n({ char x[2][4]={\"abc\",\"def\"}; x[0][3]; }) => 0\n({ char x[2][4]={\"abc\",\"def\"}; x[1][0]; }) => 100\n({ char x[2][4]={\"abc\",\"def\"}; x[1][2]; }) => 102\n({ int x[]={1,2,3,4}; x[3]; }) => 4\n({ int x[]={1,2,3,4}; sizeof(x); }) => 16\n({ char x[]=\"foo\"; sizeof(x); }) => 4\n({ typedef char T[]; T x=\"foo\"; T y=\"x\"; sizeof(x); }) => 4\n({ typedef char T[]; T x=\"foo\"; T y=\"x\"; sizeof(y); }) => 2\n({ typedef char T[]; T x=\"x\"; T y=\"foo\"; sizeof(x); }) => 2\n({ typedef char T[]; T x=\"x\"; T y=\"foo\"; sizeof(y); }) => 4\n({ struct {int a; int b; int c;} x={1,2,3}; x.a; }) => 1\n({ struct {int a; int b; int c;} x={1,2,3}; x.b; }) => 2\n({ struct {int a; int b; int c;} x={1,2,3}; x.c; }) => 3\n({ struct {int a; int b; int c;} x={1}; x.a; }) => 1\n({ struct {int a; int b; int c;} x={1}; x.b; }) => 0\n({ struct {int a; int b; int c;} x={1}; x.c; }) => 0\n({ struct {int a; int b;} x[2]={{1,2},{3,4}}; x[0].a; }) => 1\n({ struct {int a; int b;} x[2]={{1,2},{3,4}}; x[0].b; }) => 2\n({ struct {int a; int b;} x[2]={{1,2},{3,4}}; x[1].a; }) => 3\n({ struct {int a; int b;} x[2]={{1,2},{3,4}}; x[1].b; }) => 4\n({ struct {int a; int b;} x[2]={{1,2}}; x[1].b; }) => 0\n({ struct {int a; int b;} x={}; x.a; }) => 0\n({ struct {int a; int b;} x={}; x.b; }) => 0\n({ typedef struct {int a,b,c,d,e,f;} T; T x={1,2,3,4,5,6}; T y; y=x; y.e; }) => 5\n({ typedef struct {int a,b;} T; T x={1,2}; T y, z; z=y=x; z.b; }) => 2\n({ typedef struct {int a,b;} T; T x={1,2}; T y=x; y.a; }) => 1\n({ union { int a; char b[4]; } x={0x01020304}; x.b[0]; }) => 4\n({ union { int a; char b[4]; } x={0x01020304}; x.b[1]; }) => 3\n({ union { struct { char a,b,c,d; } e; int f; } x={{4,3,2,1}}; x.f; }) => 16909060\ng3 => 3\ng4 => 4\ng5 => 5\ng6 => 6\ng9[0] => 0\ng9[1] => 1\ng9[2] => 2\ng11[0].a => 1\ng11[0].b => 2\ng11[1].a => 3\ng11[1].b => 4\ng12[0].a[0] => 1\ng12[0].a[1] => 2\ng12[1].a[0] => 0\ng12[1].a[1] => 0\ng13[0].b[0] => 4\ng13[0].b[1] => 3\ng13[1].b[0] => 8\ng13[1].b[1] => 7\nsizeof(g17) => 7\nsizeof(g18) => 10\nsizeof(g19) => 3\nmemcmp(g17, \"foobar\", 7) => 0\nmemcmp(g18, \"foobar\\0\\0\\0\", 10) => 0\nmemcmp(g19, \"foo\", 3) => 0\nstrcmp(g20, \"foobar\") => 0\nstrcmp(g21, \"bar\") => 0\nstrcmp(g22+3, \"foobar\") => 0\nstrcmp(g23[0], \"foobar\") => 0\nstrcmp(g23[1], \"bar\") => 0\nstrcmp(g23[2]+3, \"foobar\") => 0\ng24 => 3\n*g25 => 3\n*g27 => 2\n*g28 => 3\n*(int *)g29 => 1\ng31[0] => 1\ng31[1] => 2\ng31[2] => 3\ng40[0].a[0] => 1\ng40[0].a[1] => 2\ng40[1].a[0] => 3\ng40[1].a[1] => 4\ng41[0].a[0] => 1\ng41[0].a[1] => 2\ng41[1].a[0] => 3\ng41[1].a[1] => 4\n({ int x[2][3]={0,1,2,3,4,5}; x[0][0]; }) => 0\n({ int x[2][3]={0,1,2,3,4,5}; x[1][0]; }) => 3\n({ struct {int a; int b;} x[2]={0,1,2,3}; x[0].a; }) => 0\n({ struct {int a; int b;} x[2]={0,1,2,3}; x[1].a; }) => 2\nstrcmp(g43[0], \"foo\") => 0\nstrcmp(g43[1], \"bar\") => 0\nstrcmp(g44, \"foo\") => 0\n({ int a[]={1,2,3,}; a[2]; }) => 3\n({ struct {int a,b,c;} x={1,2,3,}; x.a; }) => 1\n({ union {int a; char b;} x={1,}; x.a; }) => 1\n({ enum {x,y,z,}; z; }) => 2\nsizeof(g60) => 3\nsizeof(g61) => 6\nsizeof(g65) => 4\nsizeof(g66) => 7\nstrcmp(g65.b, \"oo\") => 0\nstrcmp(g66.b, \"oobar\") => 0\n({ int x[3]={1, 2, 3, [0]=4, 5}; x[0]; }) => 4\n({ int x[3]={1, 2, 3, [0]=4, 5}; x[1]; }) => 5\n({ int x[3]={1, 2, 3, [0]=4, 5}; x[2]; }) => 3\n({ int x[2][3]={1,2,3,4,5,6,[0][1]=7,8,[0]=9,[0]=10,11,[1][0]=12}; x[0][0]; }) => 10\n({ int x[2][3]={1,2,3,4,5,6,[0][1]=7,8,[0]=9,[0]=10,11,[1][0]=12}; x[0][1]; }) => 11\n({ int x[2][3]={1,2,3,4,5,6,[0][1]=7,8,[0]=9,[0]=10,11,[1][0]=12}; x[0][2]; }) => 8\n({ int x[2][3]={1,2,3,4,5,6,[0][1]=7,8,[0]=9,[0]=10,11,[1][0]=12}; x[1][0]; }) => 12\n({ int x[2][3]={1,2,3,4,5,6,[0][1]=7,8,[0]=9,[0]=10,11,[1][0]=12}; x[1][1]; }) => 5\n({ int x[2][3]={1,2,3,4,5,6,[0][1]=7,8,[0]=9,[0]=10,11,[1][0]=12}; x[1][2]; }) => 6\n({ int x[2][3]={1,2,3,4,5,6,[0]={7,8},9,10}; x[0][0]; }) => 7\n({ int x[2][3]={1,2,3,4,5,6,[0]={7,8},9,10}; x[0][1]; }) => 8\n({ int x[2][3]={1,2,3,4,5,6,[0]={7,8},9,10}; x[0][2]; }) => 3\n({ int x[2][3]={1,2,3,4,5,6,[0]={7,8},9,10}; x[1][0]; }) => 9\n({ int x[2][3]={1,2,3,4,5,6,[0]={7,8},9,10}; x[1][1]; }) => 10\n({ int x[2][3]={1,2,3,4,5,6,[0]={7,8},9,10}; x[1][2]; }) => 6\n((int[10]){ [3]=7 })[3] => 7\n((int[10]){ [3]=7 })[4] => 0\n({ char x[]={[10-3]=1,2,3}; sizeof(x); }) => 10\n({ char x[][2]={[8][1]=1,2}; sizeof(x); }) => 20\n((int[10]){ [3] 7 })[3] => 7\n((int[10]){ [3] 7 })[4] => 0\n({ struct { int a,b; } x={1,2,.b=3,.a=4}; x.a; }) => 4\n({ struct { int a,b; } x={1,2,.b=3,.a=4}; x.b; }) => 3\n({ struct { struct { int a,b; } c; } x={.c=1,2}; x.c.a; }) => 1\n({ struct { struct { int a,b; } c; } x={.c=1,2}; x.c.b; }) => 2\n({ struct { struct { int a,b; } c; } x={.c.b=1}; x.c.a; }) => 0\n({ struct { struct { int a,b; } c; } x={.c.b=1}; x.c.b; }) => 1\n({ struct { int a[2]; } x={.a=1,2}; x.a[0]; }) => 1\n({ struct { int a[2]; } x={.a=1,2}; x.a[1]; }) => 2\n({ struct { int a[2]; } x={.a[1]=1}; x.a[0]; }) => 0\n({ struct { int a[2]; } x={.a[1]=1}; x.a[1]; }) => 1\n({ struct { int a,b; } x[]={[1].b=1,2,[0]=3,4,}; x[0].a; }) => 3\n({ struct { int a,b; } x[]={[1].b=1,2,[0]=3,4,}; x[0].b; }) => 4\n({ struct { int a,b; } x[]={[1].b=1,2,[0]=3,4,}; x[1].a; }) => 0\n({ struct { int a,b; } x[]={[1].b=1,2,[0]=3,4,}; x[1].b; }) => 1\n({ struct { int a,b; } x[]={[1].b=1,2,[0]=3,4,}; x[2].a; }) => 2\n({ struct { int a,b; } x[]={[1].b=1,2,[0]=3,4,}; x[2].b; }) => 0\n({ typedef struct { int a,b; } T; T x={1,2}; T y[]={x}; y[0].a; }) => 1\n({ typedef struct { int a,b; } T; T x={1,2}; T y[]={x}; y[0].b; }) => 2\n({ typedef struct { int a,b; } T; T x={1,2}; T y[]={x, [0].b=3}; y[0].a; }) => 0\n({ typedef struct { int a,b; } T; T x={1,2}; T y[]={x, [0].b=3}; y[0].b; }) => 3\n((struct { int a,b,c; }){ .c=5 }).c => 5\n((struct { int a,b,c; }){ .c=5 }).a => 0\nOK\n"
status: 0
